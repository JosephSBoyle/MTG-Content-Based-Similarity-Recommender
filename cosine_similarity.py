import codecs

import numpy as np


def convert_to_binary(embedding_path):
    f = codecs.open(embedding_path + ".txt", 'r', encoding='utf-8')
    wv = []

    with codecs.open(embedding_path + ".vocab", "w", encoding='utf-8') as vocab_write:
        count = 0
        for line in f:
            splitlines = line.split()
            vocab_write.write(splitlines[0].strip())
            vocab_write.write("\n")
            wv.append([float(val) for val in splitlines[1:]])
        count += 1

    np.save(embedding_path + ".npy", np.array(wv))

convert_to_binary('data/glove.6B.300d')

def cosine_similarity(v0, v1):
    return np.inner(v0, v1) / (np.linalg.norm(v0) * np.linalg.norm(v1))

a = np.array([-3.82303467e+02,  8.24092789e+01, -4.59633087e+02, -1.24929024e+02,
       -1.25144800e+03,  6.95793457e+01, -1.07852692e+02,  3.79759491e+02,
       -6.27859070e+02, -1.53664148e+03, -3.31614494e+01, -6.39678307e+01,
       -7.76189148e+02,  1.96769791e+02, -2.69839478e+01, -4.54688690e+02,
       -3.96056488e+02,  7.51705750e+02,  3.71325104e+02, -2.27710896e+01,
       -3.01457184e+02, -3.37921051e+02, -3.26956024e+02,  5.82555428e+01,
        1.51293716e+02,  4.87892242e+02,  4.36684662e+02,  4.25151367e+02,
        6.83322693e+02, -8.45947571e+02, -2.43960514e+01,  5.67269104e+02,
       -3.80112549e+02, -2.01191895e+02, -7.30385986e+02,  2.28457737e+01,
        7.67805176e+02, -9.40148254e+02, -5.06348419e+02,  3.42079590e+02,
       -2.73837769e+02, -4.68352747e+00, -9.66216553e+02,  1.22848059e+03,
       -5.99694153e+02, -4.75619110e+02,  3.62680756e+02, -2.29793411e+02,
        1.32660172e+02,  1.17975304e+02, -9.57682514e+00,  4.87498413e+02,
       -1.49337463e+02,  2.01154236e+02,  4.45813179e+01,  5.76052917e+02,
        2.63970276e+02, -1.45032333e+02, -7.04249725e+01, -8.41360413e+02,
        8.41911316e+02,  2.65510559e+02,  1.05890465e+02,  3.05332001e+02,
       -6.33795083e-01, -4.46424913e+00, -3.21326080e+02,  3.95914276e+02,
        6.20233093e+02, -1.82059860e+02, -6.71829102e+02,  7.50193665e+02,
        2.79738007e+02,  4.53502045e+02, -8.47506531e+02, -2.08609009e+02,
        4.34501617e+02,  5.56042366e+01, -1.85820984e+02, -1.57952789e+02,
        4.60431099e+01,  2.79641022e+02,  3.75000153e+02, -6.95145081e+02,
        1.75378830e+02, -1.83595032e+02, -1.54035019e+02,  5.04980133e+02,
        1.05988037e+02, -3.52891846e+02,  8.82392578e+01,  1.38344315e+02,
       -4.82874878e+02, -9.44444336e+02,  4.85042572e+02,  1.62632065e+02,
       -1.63750198e+02, -6.00574890e+02,  4.58987579e+02, -5.97807861e+02,
       -3.15085236e+02, -8.55888138e+01,  7.93237305e+01,  1.36224030e+02,
       -1.91189346e+02, -6.01665100e+02,  1.23985910e+01,  4.84651703e+02,
        1.99976761e+02,  1.05984871e+02, -1.44623077e+02, -2.15970810e+02,
        3.68107941e+02,  2.13922928e+02, -4.23279205e+02, -2.99302124e+02,
       -4.40521637e+02,  4.39529907e+02,  2.37387543e+01, -5.18831116e+02,
        8.13568359e+02, -3.72480591e+02,  9.33705826e+01, -6.06178833e+02,
        9.66651688e+01,  2.53790833e+02, -2.51460648e+02,  6.82210464e+01,
       -5.44856628e+02, -9.08136520e+01, -3.28663971e+02, -1.14023048e+02,
       -5.13327515e+02,  3.15543549e+02,  1.63821182e+02, -3.80275269e+02,
        1.27955467e+02, -3.39538788e+02,  3.37348022e+02, -2.11258438e+02,
       -1.93098450e+02,  5.49422791e+02,  3.37070274e+01, -3.44067261e+02,
       -2.03736938e+02, -3.76554565e+02, -3.53058136e+02, -4.79100220e+02,
        4.63475586e+02, -1.30344360e+02,  5.78342834e+02, -4.15859619e+02,
       -1.95502396e+02, -4.02237915e+02,  3.26989410e+02, -1.40404144e+02,
        1.01563031e+03,  8.44274445e+01,  3.19458618e+01, -2.57454468e+02,
        1.97811642e+01, -4.06827393e+01, -5.78315186e+02, -5.95017281e+01,
       -3.92276733e+02,  4.10288544e+02, -2.15514267e+02, -4.76653938e+01,
       -2.05983871e+02,  3.81821503e+02,  3.04331635e+02,  6.11084656e+02,
        1.22153206e+02,  9.28957703e+02,  1.44155960e+02, -6.07572327e+01,
       -3.89568878e+02, -2.44783447e+02,  2.81240845e+02,  4.42236328e+02,
       -6.16255188e+02,  6.32426758e+02, -6.65436035e+02, -3.71174713e+02,
       -5.70088440e+02, -6.05341553e+02, -5.53972717e+02,  2.82823578e+02,
        8.08208313e+02,  5.34027771e+02,  7.86662109e+02,  3.02795074e+02,
        4.10961884e+02,  6.41147339e+02, -6.07955566e+02,  3.14573700e+02,
        5.54804749e+02, -1.65727127e+02, -3.28928284e+02, -4.61721283e+02,
        1.06759863e+03, -1.76404035e+00,  3.57993774e+02,  6.72375916e+02,
        4.54215210e+02, -4.45174103e+02, -7.45698547e+02,  5.77959717e+02,
        5.42044189e+02, -6.49364441e+02, -1.23942712e+03,  6.30323944e+01,
       -2.25605545e+02,  6.47890381e+02, -9.52643616e+02,  1.42556534e+02,
        6.73130676e+02, -2.14041489e+02, -4.40367554e+02, -8.59911804e+02,
       -3.89565399e+02,  3.03016266e+02,  2.83997162e+02,  3.74133453e+02,
       -5.12218590e+01, -3.09759884e+01,  1.83614868e+02,  3.15830292e+02,
       -1.77688942e+01,  4.84127106e+02, -1.32506958e+02,  8.09613098e+02,
       -5.94702148e+01, -6.12586792e+02,  7.23145569e+02, -1.04612343e+02,
       -3.29173370e+02,  1.42205086e+01,  1.55040817e+02,  3.17196045e+02,
       -4.69259064e+02, -7.53609924e+02,  7.55069275e+01,  1.53856613e+02,
        9.66733704e+01,  7.01425858e+01,  1.98466202e+02, -9.44702225e+01,
       -7.67513504e+01,  3.04244293e+02, -2.81061584e+02,  3.94960175e+02,
       -3.05418823e+02, -2.54471008e+02, -6.35005981e+02, -1.86464218e+02,
        5.41874809e+01, -5.86860107e+02,  7.06987839e+01, -4.73143578e+01,
        9.44368652e+02, -6.57585999e+02, -7.86098404e+01, -1.64362366e+02,
       -2.76980648e+01, -3.02878235e+02,  8.72817322e+02,  3.64807617e+02,
        4.79208771e+02,  1.10856775e+03, -3.78429718e+02, -4.98426544e+02,
        5.21712952e+02, -7.94922852e+02, -3.60722137e+02,  8.46274902e+02,
       -6.88204407e+02,  2.46864758e+01, -2.55707901e+02,  1.94391068e+02,
       -5.18912537e+02, -3.96317474e+02, -1.05010559e+03, -3.75720612e+02,
        2.89989288e+02, -6.43849716e+01, -1.26088287e+02,  2.03520004e+02,
        5.45152954e+02,  5.31543274e+02, -2.65578094e+02,  2.21640915e+02,
       -2.33025497e+02, -3.16408966e+02,  3.20074249e+02,  2.09541748e+02,
        8.46624268e+02, -1.12141321e+03, -3.47381012e+02,  1.60172684e+02])
b = np.array([-3.82303467e+02,  8.24092789e+01, -4.59633087e+02, -1.24929024e+02,
       -1.25144800e+03,  6.95793457e+01, -1.07852692e+02,  3.79759491e+02,
       -6.27859070e+02, -1.53664148e+03, -3.31614494e+01, -6.39678307e+01,
       -7.76189148e+02,  1.96769791e+02, -2.69839478e+01, -4.54688690e+02,
       -3.96056488e+02,  7.51705750e+02,  3.71325104e+02, -2.27710896e+01,
       -3.01457184e+02, -3.37921051e+02, -3.26956024e+02,  5.82555428e+01,
        1.51293716e+02,  4.87892242e+02,  4.36684662e+02,  4.25151367e+02,
        6.83322693e+02, -8.45947571e+02, -2.43960514e+01,  5.67269104e+02,
       -3.80112549e+02, -2.01191895e+02, -7.30385986e+02,  2.28457737e+01,
        7.67805176e+02, -9.40148254e+02, -5.06348419e+02,  3.42079590e+02,
       -2.73837769e+02, -4.68352747e+00, -9.66216553e+02,  1.22848059e+03,
       -5.99694153e+02, -4.75619110e+02,  3.62680756e+02, -2.29793411e+02,
        1.32660172e+02,  1.17975304e+02, -9.57682514e+00,  4.87498413e+02,
       -1.49337463e+02,  2.01154236e+02,  4.45813179e+01,  5.76052917e+02,
        2.63970276e+02, -1.45032333e+02, -7.04249725e+01, -8.41360413e+02,
        8.41911316e+02,  2.65510559e+02,  1.05890465e+02,  3.05332001e+02,
       -6.33795083e-01, -4.46424913e+00, -3.21326080e+02,  3.95914276e+02,
        6.20233093e+02, -1.82059860e+02, -6.71829102e+02,  7.50193665e+02,
        2.79738007e+02,  4.53502045e+02, -8.47506531e+02, -2.08609009e+02,
        4.34501617e+02,  5.56042366e+01, -1.85820984e+02, -1.57952789e+02,
        4.60431099e+01,  2.79641022e+02,  3.75000153e+02, -6.95145081e+02,
        1.75378830e+02, -1.83595032e+02, -1.54035019e+02,  5.04980133e+02,
        1.05988037e+02, -3.52891846e+02,  8.82392578e+01,  1.38344315e+02,
       -4.82874878e+02, -9.44444336e+02,  4.85042572e+02,  1.62632065e+02,
       -1.63750198e+02, -6.00574890e+02,  4.58987579e+02, -5.97807861e+02,
       -3.15085236e+02, -8.55888138e+01,  7.93237305e+01,  1.36224030e+02,
       -1.91189346e+02, -6.01665100e+02,  1.23985910e+01,  4.84651703e+02,
        1.99976761e+02,  1.05984871e+02, -1.44623077e+02, -2.15970810e+02,
        3.68107941e+02,  2.13922928e+02, -4.23279205e+02, -2.99302124e+02,
       -4.40521637e+02,  4.39529907e+02,  2.37387543e+01, -5.18831116e+02,
        8.13568359e+02, -3.72480591e+02,  9.33705826e+01, -6.06178833e+02,
        9.66651688e+01,  2.53790833e+02, -2.51460648e+02,  6.82210464e+01,
       -5.44856628e+02, -9.08136520e+01, -3.28663971e+02, -1.14023048e+02,
       -5.13327515e+02,  3.15543549e+02,  1.63821182e+02, -3.80275269e+02,
        1.27955467e+02, -3.39538788e+02,  3.37348022e+02, -2.11258438e+02,
       -1.93098450e+02,  5.49422791e+02,  3.37070274e+01, -3.44067261e+02,
       -2.03736938e+02, -3.76554565e+02, -3.53058136e+02, -4.79100220e+02,
        4.63475586e+02, -1.30344360e+02,  5.78342834e+02, -4.15859619e+02,
       -1.95502396e+02, -4.02237915e+02,  3.26989410e+02, -1.40404144e+02,
        1.01563031e+03,  8.44274445e+01,  3.19458618e+01, -2.57454468e+02,
        1.97811642e+01, -4.06827393e+01, -5.78315186e+02, -5.95017281e+01,
       -3.92276733e+02,  4.10288544e+02, -2.15514267e+02, -4.76653938e+01,
       -2.05983871e+02,  3.81821503e+02,  3.04331635e+02,  6.11084656e+02,
        1.22153206e+02,  9.28957703e+02,  1.44155960e+02, -6.07572327e+01,
       -3.89568878e+02, -2.44783447e+02,  2.81240845e+02,  4.42236328e+02,
       -6.16255188e+02,  6.32426758e+02, -6.65436035e+02, -3.71174713e+02,
       -5.70088440e+02, -6.05341553e+02, -5.53972717e+02,  2.82823578e+02,
        8.08208313e+02,  5.34027771e+02,  7.86662109e+02,  3.02795074e+02,
        4.10961884e+02,  6.41147339e+02, -6.07955566e+02,  3.14573700e+02,
        5.54804749e+02, -1.65727127e+02, -3.28928284e+02, -4.61721283e+02,
        1.06759863e+03, -1.76404035e+00,  3.57993774e+02,  6.72375916e+02,
        4.54215210e+02, -4.45174103e+02, -7.45698547e+02,  5.77959717e+02,
        5.42044189e+02, -6.49364441e+02, -1.23942712e+03,  6.30323944e+01,
       -2.25605545e+02,  6.47890381e+02, -9.52643616e+02,  1.42556534e+02,
        6.73130676e+02, -2.14041489e+02, -4.40367554e+02, -8.59911804e+02,
       -3.89565399e+02,  3.03016266e+02,  2.83997162e+02,  3.74133453e+02,
       -5.12218590e+01, -3.09759884e+01,  1.83614868e+02,  3.15830292e+02,
       -1.77688942e+01,  4.84127106e+02, -1.32506958e+02,  8.09613098e+02,
       -5.94702148e+01, -6.12586792e+02,  7.23145569e+02, -1.04612343e+02,
       -3.29173370e+02,  1.42205086e+01,  1.55040817e+02,  3.17196045e+02,
       -4.69259064e+02, -7.53609924e+02,  7.55069275e+01,  1.53856613e+02,
        9.66733704e+01,  7.01425858e+01,  1.98466202e+02, -9.44702225e+01,
       -7.67513504e+01,  3.04244293e+02, -2.81061584e+02,  3.94960175e+02,
       -3.05418823e+02, -2.54471008e+02, -6.35005981e+02, -1.86464218e+02,
        5.41874809e+01, -5.86860107e+02,  7.06987839e+01, -4.73143578e+01,
        9.44368652e+02, -6.57585999e+02, -7.86098404e+01, -1.64362366e+02,
       -2.76980648e+01, -3.02878235e+02,  8.72817322e+02,  3.64807617e+02,
        4.79208771e+02,  1.10856775e+03, -3.78429718e+02, -4.98426544e+02,
        5.21712952e+02, -7.94922852e+02, -3.60722137e+02,  8.46274902e+02,
       -6.88204407e+02,  2.46864758e+01, -2.55707901e+02,  1.94391068e+02,
       -5.18912537e+02, -3.96317474e+02, -1.05010559e+03, -3.75720612e+02,
        2.89989288e+02, -6.43849716e+01, -1.26088287e+02,  2.03520004e+02,
        5.45152954e+02,  5.31543274e+02, -2.65578094e+02,  2.21640915e+02,
       -2.33025497e+02, -3.16408966e+02,  3.20074249e+02,  2.09541748e+02,
        8.46624268e+02, -1.12141321e+03, -3.47381012e+02,  1.60172684e+02])

print(cosine_similarity([a,a], [b, b]))